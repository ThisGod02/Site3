<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç | –ú–æ—è —Å–µ–º—å—è ‚Äì –º–æ–π –∫–æ—Å–º–æ—Å</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" type="image/svg+xml" href="media/images/logo.svg">
</head>
<body>
    <!-- –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">
                    <img src="media/images/logo.svg" alt="–õ–æ–≥–æ—Ç–∏–ø" onerror="this.src='media/images/logo.png'">
                    <span>–ú–æ—è —Å–µ–º—å—è ‚Äì –º–æ–π –∫–æ—Å–º–æ—Å</span>
                </a>
                <button class="menu-toggle" aria-label="–ú–µ–Ω—é">‚ò∞</button>
                <nav>
                    <a href="index.html#auth">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</a>
                    <a href="account.html">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
                    <a href="index.html#about">–û –Ω–∞—Å</a>
                    <a href="index.html#competitions">–ö–æ–Ω–∫—É—Ä—Å—ã</a>
                    <a href="index.html#search">–ü–æ–∏—Å–∫</a>
                    <a href="index.html#contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                    <a href="index.html" class="btn" style="padding: 0.5rem 1rem; font-size: 0.9rem;">–í—ã—Ö–æ–¥</a>
                    <button class="theme-toggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåì</button>
                </nav>
            </div>
        </div>
    </header>

    <main>
        <section class="account-section" style="padding: 4rem 0; min-height: 80vh;">
            <div class="container">
                <h1 class="section-title">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
                
                <div style="max-width: 900px; margin: 0 auto;">
                    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ -->
                    <div style="background: var(--bg-secondary); padding: 2rem; border-radius: 15px; margin-bottom: 2rem; box-shadow: 0 5px 20px var(--shadow);">
                        <h2 style="color: var(--accent-primary); margin-bottom: 1rem;">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤!</h2>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; color: var(--text-secondary);">
                            <div>
                                <strong style="color: var(--text-primary);">Email:</strong><br>
                                ivan@example.com
                            </div>
                            <div>
                                <strong style="color: var(--text-primary);">–¢–µ–ª–µ—Ñ–æ–Ω:</strong><br>
                                +7 (999) 123-45-67
                            </div>
                        </div>
                    </div>

                    <!-- –§–æ—Ä–º–∞ –∑–∞–ø–∏—Å–∏ –Ω–∞ –∫–æ–Ω–∫—É—Ä—Å -->
                    <div style="background: var(--bg-secondary); padding: 3rem; border-radius: 20px; box-shadow: 0 10px 40px var(--shadow);">
                        <h2 style="color: var(--accent-primary); margin-bottom: 2rem; text-align: center;">–ó–∞–ø–∏—Å—å –Ω–∞ –∫–æ–Ω–∫—É—Ä—Å</h2>
                        
                        <form id="competitionRegistrationForm" class="competition-registration-form">
                            <div class="form-group">
                                <label for="competition">–ö–æ–Ω–∫—É—Ä—Å <span style="color: var(--error);">*</span></label>
                                <select id="competition" name="competition" required>
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω–∫—É—Ä—Å</option>
                                    <!-- –û–ø—Ü–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </select>
                                <span class="field-error" id="competitionError"></span>
                            </div>

                            <div class="form-group">
                                <label for="date">–î–∞—Ç–∞ <span style="color: var(--error);">*</span></label>
                                <input type="date" id="date" name="date" value="2024-07-08" min="2024-07-08" max="2024-07-08" required readonly style="background: var(--bg-tertiary); cursor: not-allowed;">
                                <small style="color: var(--text-secondary); display: block; margin-top: 0.5rem;">–î–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–∞—Ç–∞: 8 –∏—é–ª—è 2024 –≥–æ–¥–∞</small>
                                <span class="field-error" id="dateError"></span>
                            </div>

                            <div class="form-group">
                                <label for="time">–í—Ä–µ–º—è <span style="color: var(--error);">*</span></label>
                                <select id="time" name="time" required>
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è</option>
                                    <!-- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </select>
                                <small style="color: var(--text-secondary); display: block; margin-top: 0.5rem;">–î–æ—Å—Ç—É–ø–Ω–æ–µ –≤—Ä–µ–º—è: —Å 9:00 –¥–æ 21:00</small>
                                <span class="field-error" id="timeError"></span>
                            </div>

                            <div class="form-group">
                                <label for="participants">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å <span style="color: var(--error);">*</span></label>
                                <input type="number" id="participants" name="participants" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ" min="1" max="20" required>
                                <span class="field-error" id="participantsError"></span>
                            </div>

                            <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
                            <div id="formMessage" class="message" style="display: none;"></div>

                            <button type="submit" class="btn" style="width: 100%; margin-top: 2rem; font-size: 1.2rem; padding: 1rem;">
                                –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω–∫—É—Ä—Å
                            </button>
                        </form>
                    </div>

                    <!-- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø–∏—Å–µ–π -->
                    <div style="background: var(--bg-secondary); padding: 2rem; border-radius: 15px; margin-top: 2rem; box-shadow: 0 5px 20px var(--shadow);">
                        <h2 style="color: var(--accent-primary); margin-bottom: 1.5rem;">–ú–æ–∏ –∑–∞–ø–∏—Å–∏</h2>
                        <div id="registrationsList" style="display: flex; flex-direction: column; gap: 1rem;">
                            <div style="padding: 1rem; background: var(--bg-tertiary); border-radius: 10px; border-left: 4px solid var(--accent-primary);">
                                <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                                    <div>
                                        <strong style="color: var(--accent-primary);">–°–µ–º–µ–π–Ω—ã–π —Ç–∞–ª–∞–Ω—Ç-—à–æ—É</strong><br>
                                        <span style="color: var(--text-secondary);">8 –∏—é–ª—è 2024, 10:00-11:00</span><br>
                                        <span style="color: var(--text-secondary);">–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤: 3</span>
                                    </div>
                                    <button class="btn" style="background: var(--error); padding: 0.5rem 1rem; font-size: 0.9rem;">–û—Ç–º–µ–Ω–∏—Ç—å</button>
                                </div>
                            </div>
                            <div style="padding: 1rem; background: var(--bg-tertiary); border-radius: 10px; border-left: 4px solid var(--accent-primary);">
                                <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                                    <div>
                                        <strong style="color: var(--accent-primary);">–ö–æ–Ω–∫—É—Ä—Å —Å–µ–º–µ–π–Ω—ã—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π</strong><br>
                                        <span style="color: var(--text-secondary);">8 –∏—é–ª—è 2024, 14:00-15:00</span><br>
                                        <span style="color: var(--text-secondary);">–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤: 2</span>
                                    </div>
                                    <button class="btn" style="background: var(--error); padding: 0.5rem 1rem; font-size: 0.9rem;">–û—Ç–º–µ–Ω–∏—Ç—å</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- –ü–æ–¥–≤–∞–ª -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                    <a href="tel:+74842234567">+7 (4842) 23-45-67</a>
                    <a href="mailto:family@cosmos.ru">family@cosmos.ru</a>
                </div>
                <div class="footer-section">
                    <h3>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
                    <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                    <a href="index-light.html">–ì–ª–∞–≤–Ω–∞—è-—Å–≤–µ—Ç–ª–∞—è</a>
                    <a href="registration.html">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                    <a href="competition.html">–ö–æ–Ω–∫—É—Ä—Å</a>
                    <a href="account.html">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
                    <a href="404.html">–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 "–ú–æ—è —Å–µ–º—å—è ‚Äì –º–æ–π –∫–æ—Å–º–æ—Å". –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –∫–æ–Ω–∫—É—Ä—Å–æ–≤
        async function loadCompetitions() {
            try {
                const response = await fetch('media/text/competitions.txt');
                const text = await response.text();
                const competitions = text.split('\n').filter(line => line.trim() !== '');
                
                const select = document.getElementById('competition');
                competitions.forEach(competition => {
                    const option = document.createElement('option');
                    option.value = competition;
                    option.textContent = competition;
                    select.appendChild(option);
                });
            } catch (error) {
                console.error('Error loading competitions:', error);
            }
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
        function loadTimeSlots() {
            const select = document.getElementById('time');
            for (let hour = 9; hour < 21; hour++) {
                const nextHour = hour + 1;
                const option = document.createElement('option');
                option.value = `${hour}:00-${nextHour}:00`;
                option.textContent = `${hour}:00 - ${nextHour}:00`;
                select.appendChild(option);
            }
        }

        // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
        function showError(fieldId, message) {
            const errorSpan = document.getElementById(fieldId + 'Error');
            if (errorSpan) {
                errorSpan.textContent = message;
                errorSpan.style.color = 'var(--error)';
                errorSpan.style.display = 'block';
            }
            const field = document.getElementById(fieldId);
            if (field) {
                field.style.borderColor = 'var(--error)';
            }
        }

        function clearError(fieldId) {
            const errorSpan = document.getElementById(fieldId + 'Error');
            if (errorSpan) {
                errorSpan.textContent = '';
                errorSpan.style.display = 'none';
            }
            const field = document.getElementById(fieldId);
            if (field) {
                field.style.borderColor = 'var(--border-color)';
            }
        }

        function showMessage(message, type) {
            const messageDiv = document.getElementById('formMessage');
            messageDiv.textContent = message;
            messageDiv.className = `message ${type}`;
            messageDiv.style.display = 'block';
            messageDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
        document.getElementById('competitionRegistrationForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—à–∏–±–æ–∫
            document.querySelectorAll('.field-error').forEach(el => {
                el.textContent = '';
                el.style.display = 'none';
            });
            
            let isValid = true;
            const formData = new FormData(e.target);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—É—Ä—Å–∞
            const competition = formData.get('competition');
            if (!competition) {
                showError('competition', '–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω–∫—É—Ä—Å');
                isValid = false;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞—Ç—ã
            const date = formData.get('date');
            if (!date || date !== '2024-07-08') {
                showError('date', '–î–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–∞—Ç–∞ 8 –∏—é–ª—è 2024 –≥–æ–¥–∞');
                isValid = false;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏
            const time = formData.get('time');
            if (!time) {
                showError('time', '–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è');
                isValid = false;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
            const participants = parseInt(formData.get('participants'));
            if (!participants || participants < 1 || participants > 20) {
                showError('participants', '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 1 –¥–æ 20');
                isValid = false;
            }
            
            if (isValid) {
                showMessage('–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–∏—Å–∞–ª–∏—Å—å –Ω–∞ –∫–æ–Ω–∫—É—Ä—Å!', 'success');
                
                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ —Å–ø–∏—Å–æ–∫
                const list = document.getElementById('registrationsList');
                const newRegistration = document.createElement('div');
                newRegistration.style.cssText = 'padding: 1rem; background: var(--bg-tertiary); border-radius: 10px; border-left: 4px solid var(--accent-primary);';
                newRegistration.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                        <div>
                            <strong style="color: var(--accent-primary);">${competition}</strong><br>
                            <span style="color: var(--text-secondary);">8 –∏—é–ª—è 2024, ${time}</span><br>
                            <span style="color: var(--text-secondary);">–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤: ${participants}</span>
                        </div>
                        <button class="btn" style="background: var(--error); padding: 0.5rem 1rem; font-size: 0.9rem;" onclick="this.parentElement.parentElement.remove()">–û—Ç–º–µ–Ω–∏—Ç—å</button>
                    </div>
                `;
                list.insertBefore(newRegistration, list.firstChild);
                
                // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã
                e.target.reset();
                document.getElementById('date').value = '2024-07-08';
            } else {
                showMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –≤ —Ñ–æ—Ä–º–µ.', 'error');
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            loadCompetitions();
            loadTimeSlots();
        });
    </script>
    <style>
        .field-error {
            display: none;
            color: var(--error);
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }
    </style>
</body>
</html>


<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è | –ú–æ—è —Å–µ–º—å—è ‚Äì –º–æ–π –∫–æ—Å–º–æ—Å</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" type="image/svg+xml" href="media/images/logo.svg">
</head>
<body>
    <!-- –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">
                    <img src="media/images/logo.svg" alt="–õ–æ–≥–æ—Ç–∏–ø" onerror="this.src='media/images/logo.png'">
                    <span>–ú–æ—è —Å–µ–º—å—è ‚Äì –º–æ–π –∫–æ—Å–º–æ—Å</span>
                </a>
                <button class="menu-toggle" aria-label="–ú–µ–Ω—é">‚ò∞</button>
                <nav>
                    <a href="registration.html">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                    <a href="index.html#auth">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</a>
                    <a href="account.html">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
                    <a href="index.html#about">–û –Ω–∞—Å</a>
                    <a href="index.html#competitions">–ö–æ–Ω–∫—É—Ä—Å—ã</a>
                    <a href="index.html#search">–ü–æ–∏—Å–∫</a>
                    <a href="index.html#contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                    <button class="theme-toggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåì</button>
                </nav>
            </div>
        </div>
    </header>

    <main>
        <section class="registration-section" style="padding: 4rem 0; min-height: 80vh;">
            <div class="container">
                <h1 class="section-title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ</h1>
                
                <form id="registrationForm" class="registration-form" style="max-width: 800px; margin: 0 auto; background: var(--bg-secondary); padding: 3rem; border-radius: 20px; box-shadow: 0 10px 40px var(--shadow);">
                    
                    <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è -->
                    <div class="form-group">
                        <label for="email">E-mail <span style="color: var(--error);">*</span></label>
                        <input type="email" id="email" name="email" placeholder="example@mail.ru" required>
                        <span class="field-error" id="emailError"></span>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="form-group">
                            <label for="firstName">–ò–º—è <span style="color: var(--error);">*</span></label>
                            <input type="text" id="firstName" name="firstName" placeholder="–ò–≤–∞–Ω" required>
                            <span class="field-error" id="firstNameError"></span>
                        </div>

                        <div class="form-group">
                            <label for="lastName">–§–∞–º–∏–ª–∏—è <span style="color: var(--error);">*</span></label>
                            <input type="text" id="lastName" name="lastName" placeholder="–ò–≤–∞–Ω–æ–≤" required>
                            <span class="field-error" id="lastNameError"></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="age">–í–æ–∑—Ä–∞—Å—Ç <span style="color: var(--error);">*</span></label>
                        <div style="display: flex; gap: 1rem; align-items: center; flex-wrap: wrap;">
                            <input type="number" id="age" name="age" placeholder="25" min="1" max="120" required style="flex: 1; min-width: 150px;">
                            <span style="color: var(--text-secondary);">–∏–ª–∏</span>
                            <input type="date" id="birthDate" name="birthDate" style="flex: 1; min-width: 150px;">
                        </div>
                        <span class="field-error" id="ageError"></span>
                    </div>

                    <div class="form-group">
                        <label>–ü–æ–ª <span style="color: var(--error);">*</span></label>
                        <div style="display: flex; gap: 2rem; margin-top: 0.5rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                <input type="radio" name="gender" value="male" required>
                                <span>–ú—É–∂—Å–∫–æ–π</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                <input type="radio" name="gender" value="female" required>
                                <span>–ñ–µ–Ω—Å–∫–∏–π</span>
                            </label>
                        </div>
                        <span class="field-error" id="genderError"></span>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="form-group">
                            <label for="password">–ü–∞—Ä–æ–ª—å <span style="color: var(--error);">*</span></label>
                            <input type="password" id="password" name="password" placeholder="–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤" required minlength="8">
                            <span class="field-error" id="passwordError"></span>
                        </div>

                        <div class="form-group">
                            <label for="confirmPassword">–ü–æ–≤—Ç–æ—Ä –ø–∞—Ä–æ–ª—è <span style="color: var(--error);">*</span></label>
                            <input type="password" id="confirmPassword" name="confirmPassword" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                            <span class="field-error" id="confirmPasswordError"></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>–°–µ–º–µ–π–Ω–∞—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è <span style="color: var(--error);">*</span></label>
                        <div class="file-upload" id="photoUpload">
                            <input type="file" id="familyPhoto" name="familyPhoto" accept="image/*" required>
                            <label for="familyPhoto" class="file-upload-label">
                                <div class="file-upload-icon">üì∑</div>
                                <div>–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</div>
                                <div style="font-size: 0.9rem; color: var(--text-secondary); margin-top: 0.5rem;">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: JPG, PNG</div>
                            </label>
                            <div id="photoPreview" style="display: none; margin-top: 1rem;">
                                <img id="previewImage" src="" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä" style="max-width: 200px; max-height: 200px; border-radius: 10px; border: 2px solid var(--border-color);">
                            </div>
                        </div>
                        <span class="field-error" id="photoError"></span>
                    </div>

                    <!-- –ß–ª–µ–Ω—ã —Å–µ–º—å–∏ -->
                    <div class="family-members-section" style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid var(--border-color);">
                        <h3 style="color: var(--accent-primary); margin-bottom: 1rem;">–ß–ª–µ–Ω—ã —Å–µ–º—å–∏</h3>
                        <div id="familyMembers">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º—ã–µ –ø–æ–ª—è -->
                        </div>
                        <button type="button" id="addFamilyMember" class="btn" style="margin-top: 1rem; background: var(--bg-tertiary);">
                            + –î–æ–±–∞–≤–∏—Ç—å —á–ª–µ–Ω–∞ —Å–µ–º—å–∏
                        </button>
                    </div>

                    <!-- –°–æ–≥–ª–∞—Å–∏–µ -->
                    <div class="checkbox-group" style="margin-top: 2rem;">
                        <input type="checkbox" id="agree" name="agree" required>
                        <label for="agree">–Ø —Å–æ–≥–ª–∞—Å–µ–Ω(–∞) –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö <span style="color: var(--error);">*</span></label>
                        <span class="field-error" id="agreeError"></span>
                    </div>

                    <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
                    <div id="formMessage" class="message" style="display: none;"></div>

                    <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ -->
                    <button type="submit" class="btn" style="width: 100%; margin-top: 2rem; font-size: 1.2rem; padding: 1rem;">
                        –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                    </button>
                </form>
            </div>
        </section>
    </main>

    <!-- –ü–æ–¥–≤–∞–ª -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                    <a href="tel:+74842234567">+7 (4842) 23-45-67</a>
                    <a href="mailto:family@cosmos.ru">family@cosmos.ru</a>
                </div>
                <div class="footer-section">
                    <h3>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
                    <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                    <a href="index-light.html">–ì–ª–∞–≤–Ω–∞—è-—Å–≤–µ—Ç–ª–∞—è</a>
                    <a href="registration.html">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                    <a href="competition.html">–ö–æ–Ω–∫—É—Ä—Å</a>
                    <a href="account.html">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
                    <a href="404.html">–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 "–ú–æ—è —Å–µ–º—å—è ‚Äì –º–æ–π –∫–æ—Å–º–æ—Å". –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        let familyMemberCount = 0;

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–ª–µ–Ω–∞ —Å–µ–º—å–∏
        document.getElementById('addFamilyMember').addEventListener('click', () => {
            familyMemberCount++;
            const memberDiv = document.createElement('div');
            memberDiv.className = 'family-member' + familyMemberCount;
            memberDiv.style.cssText = 'background: var(--bg-tertiary); padding: 1.5rem; border-radius: 10px; margin-bottom: 1rem; position: relative;';
            memberDiv.innerHTML = `
                <button type="button" class="remove-member" style="position: absolute; top: 10px; right: 10px; background: var(--error); color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer; font-size: 1.2rem;">√ó</button>
                <h4 style="color: var(--accent-primary); margin-bottom: 1rem;">–ß–ª–µ–Ω —Å–µ–º—å–∏ #${familyMemberCount}</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label>–§–∞–º–∏–ª–∏—è</label>
                        <input type="text" name="memberLastName${familyMemberCount}" placeholder="–ò–≤–∞–Ω–æ–≤–∞">
                    </div>
                    <div class="form-group">
                        <label>–ò–º—è</label>
                        <input type="text" name="memberFirstName${familyMemberCount}" placeholder="–ú–∞—Ä–∏—è">
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                    <div class="form-group">
                        <label>–í–æ–∑—Ä–∞—Å—Ç</label>
                        <input type="number" name="memberAge${familyMemberCount}" placeholder="25" min="1" max="120">
                    </div>
                    <div class="form-group">
                        <label>–ü–æ–ª</label>
                        <select name="memberGender${familyMemberCount}" style="width: 100%; padding: 0.75rem; background: var(--bg-secondary); border: 2px solid var(--border-color); border-radius: 8px; color: var(--text-primary);">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª</option>
                            <option value="male">–ú—É–∂—Å–∫–æ–π</option>
                            <option value="female">–ñ–µ–Ω—Å–∫–∏–π</option>
                        </select>
                    </div>
                </div>
            `;
            document.getElementById('familyMembers').appendChild(memberDiv);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —É–¥–∞–ª–µ–Ω–∏—è
            memberDiv.querySelector('.remove-member').addEventListener('click', () => {
                memberDiv.remove();
            });
        });

        // –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
        document.getElementById('familyPhoto').addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    const preview = document.getElementById('photoPreview');
                    const img = document.getElementById('previewImage');
                    img.src = event.target.result;
                    preview.style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        });

        // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
        function showError(fieldId, message) {
            const errorSpan = document.getElementById(fieldId + 'Error');
            if (errorSpan) {
                errorSpan.textContent = message;
                errorSpan.style.color = 'var(--error)';
                errorSpan.style.display = 'block';
                errorSpan.style.fontSize = '0.9rem';
                errorSpan.style.marginTop = '0.5rem';
            }
            const field = document.getElementById(fieldId);
            if (field) {
                field.style.borderColor = 'var(--error)';
            }
        }

        function clearError(fieldId) {
            const errorSpan = document.getElementById(fieldId + 'Error');
            if (errorSpan) {
                errorSpan.textContent = '';
                errorSpan.style.display = 'none';
            }
            const field = document.getElementById(fieldId);
            if (field) {
                field.style.borderColor = 'var(--border-color)';
            }
        }

        function showMessage(message, type) {
            const messageDiv = document.getElementById('formMessage');
            messageDiv.textContent = message;
            messageDiv.className = `message ${type}`;
            messageDiv.style.display = 'block';
            
            if (type === 'success') {
                messageDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        // –í–∞–ª–∏–¥–∞—Ü–∏—è email
        document.getElementById('email').addEventListener('blur', function() {
            const email = this.value;
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (email && !emailRegex.test(email)) {
                showError('email', '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã');
            } else {
                clearError('email');
            }
        });

        // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è
        document.getElementById('password').addEventListener('blur', function() {
            const password = this.value;
            if (password && password.length < 8) {
                showError('password', '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤');
            } else {
                clearError('password');
            }
        });

        // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è
        document.getElementById('confirmPassword').addEventListener('blur', function() {
            const password = document.getElementById('password').value;
            const confirmPassword = this.value;
            if (confirmPassword && password !== confirmPassword) {
                showError('confirmPassword', '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç');
            } else {
                clearError('confirmPassword');
            }
        });

        // –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–æ–∑—Ä–∞—Å—Ç–∞
        document.getElementById('age').addEventListener('blur', function() {
            const age = parseInt(this.value);
            if (age && (age < 1 || age > 120)) {
                showError('age', '–í–æ–∑—Ä–∞—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 1 –¥–æ 120 –ª–µ—Ç');
            } else {
                clearError('age');
            }
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
        document.getElementById('registrationForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—à–∏–±–æ–∫
            document.querySelectorAll('.field-error').forEach(el => {
                el.textContent = '';
                el.style.display = 'none';
            });
            
            let isValid = true;
            const formData = new FormData(e.target);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
            const requiredFields = ['email', 'firstName', 'lastName', 'password', 'confirmPassword', 'familyPhoto'];
            requiredFields.forEach(field => {
                const value = formData.get(field);
                if (!value) {
                    showError(field, '–≠—Ç–æ –ø–æ–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è');
                    isValid = false;
                }
            });
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞
            const age = formData.get('age');
            const birthDate = formData.get('birthDate');
            if (!age && !birthDate) {
                showError('age', '–£–∫–∞–∂–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç –∏–ª–∏ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è');
                isValid = false;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–∞
            const gender = formData.get('gender');
            if (!gender) {
                showError('gender', '–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª');
                isValid = false;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª–µ–π
            const password = formData.get('password');
            const confirmPassword = formData.get('confirmPassword');
            if (password !== confirmPassword) {
                showError('confirmPassword', '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç');
                isValid = false;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≥–ª–∞—Å–∏—è
            const agree = formData.get('agree');
            if (!agree) {
                showError('agree', '–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö');
                isValid = false;
            }
            
            if (isValid) {
                showMessage('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É.', 'success');
                // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä
                setTimeout(() => {
                    window.location.href = 'account.html';
                }, 2000);
            } else {
                showMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –≤ —Ñ–æ—Ä–º–µ.', 'error');
            }
        });
    </script>
    <style>
        .field-error {
            display: none;
            color: var(--error);
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }
    </style>
</body>
</html>


